<!DOCTYPE html>
<html>
<div class="h4">
     <h4 id="h4" onclick="location.reload()">Try Again?</h4>
</div>
<div class="h1">
     <h1 id="h1" onclick="StartGame(); vx = 2; vy = -2; setInterval(function () { ScoreAdding(1) }, 1000); BallSpeed()">Start!</h1>
     <div class="h2">
          <h2 id="h2">Smooth Surviver!</h2>

          <div class="h3">
               <h3 id="h3">Game Over!</h3>
  </div>
  
  <h5 id="h5">Oh No! It appears that a SPIKY ball has snatched a favourite item of yours... A mango! It's your responsibility to reclaim your Mango and show that ball who's boss!
</h5>
  <h6 id="h6">After all of that, you have finally succeeded in obtaining your Mango! Go eat your mango like a king now!<br><img src="mango.png" width= "70" height ="70" /> <img src="Jsprite3.png" width = "70" height = "70" /></h6>
     </div>
     <br>

     <link rel="shortcut icon" href="Jsprite1.png" />
     <canvas id="MyCanvas" width="1350" height="843"></canvas><br>
     <div id="store">
          <div class="clickerContainer">
          
               <button onclick="Fast()">Go Faster</button>
               <button onclick="Slow()">Go Slower</button>
               <button onclick="Ball()">Make Character Bigger</button>
               <button onclick="Ball2()">Make Character Smaller</button>
               <button onclick="Wonky()">Make Character crazy</button>
               <button onclick="GravPool()">Increase Gravity</button>
               <button onclick="GravNo()">Lower Gravity</button>
               <button onclick="Ending()">Get Mango Back! (100 score)</button>
               
               
               <h3 style="position: absolute; left: -35vw; font-size: 2vw; width: 35vw; height: 100px; text-shadow: none; ">
                    Score <br> Get 100 score!</h3>
                    <h3 style="position: absolute; left: -35vw; font-size: 2vw; width: 35vw; height: 100px; text-shadow: none; "><h3 style="position: absolute; left: -39vw; font-size: 2vw; width: 35vw; height: 100px;text-shadow: none;"
                    id="score">0</h3>
                    </h3>
    
               
          </div>
     </div>

     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Sriracha&display=swap" rel="stylesheet">

     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Nabla&display=swap" rel="stylesheet">
     
     </html>
     <style>
          @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@500&display=swap');

          body,
           html {
            max-height: 100vh;
            width: 98vw;
            background-image: url("background.gif");
          }

          #MyCanvas {
               border: 0.2vw cyan outset;
               background-image: url("terrain.jpg");
               padding: 1%;
               cursor: none;
               width: 70%;
               height: 44%;
               user-select: none;
               background-size: cover;
               margin-left: 0%;
               overflow: visible;

          }

          button {
               transition: transform 0.1s;
               cursor: pointer;
               font-size: 1vw;
               font-family: 'Sriracha', cursive;
               border-radius: 15vw;
               margin: 0.4vw auto;
               border: 0.1vw cyan solid;
               background-image: url("buttonbackground.png");
               color: rgb(14, 219, 255);
               text-shadow: 1px 1px rgb(255, 0, 0);
               width: 18vw;
               font-weight: lighter;
               padding: 0.5vw;
               user-select: none;
               height: 2.8vw;
               margin-left: -7vw;
          }

          #store {
               background-color: black;
               height: 30vw;
               width: 3vw;
               padding: 10vw;
               overflow: auto;
               text-align: center;
               background-image: url("background.gif");
               margin: -57vw auto;
               position: absolute;
               margin-left: 73%;
               overflow: hidden;
          }

          .clickerContainer button {
               transition: all 0.1s ease-in-out;
          }

          .clickerContainer button:hover {
               transform: scale(1.10);
               border-color: red;
          }

          .clickerContainer button:active {
               transform: scale(0.99);
               border-color: red;
          }

          .h1 h1 {
               transition: all 0.1s ease-in-out;
          }

          .h1 h1:hover {
               transform: scale(1.10);
               border-color: red;
          }

          .h1 h1:active {
               transform: scale(0.97);
               border-color: red;
          }

          .h4 h4 {
               transition: all 0.1s ease-in-out;
          }

          .h4 h4:hover {
               transform: scale(1.10);
               border-color: red;
          }

          .h4 h4:active {
               transform: scale(0.97);
               border-color: red;
          }

          h1 {
               height: 10vw;
               width: 30vw;
               font-size: 5vw;
               font-weight: bold;
               font-family: 'Sriracha', cursive;
               color: rgb(14, 219, 255);
               text-shadow: 0.1vw 0.2vw rgb(255, 0, 0);
               text-align: center;
               left: 33vw;
               margin: 20vw auto;
               user-select: none;
               border: 0.2vw red outset;
               transition: transform 0.1s;
               border-radius: 3vw;
               background: black;
               position: absolute;
               cursor: pointer;

          }

          h2 {
               position: absolute;
               margin: 0.5vw auto;
               color: rgb(255, 15, 15);
               font-size: 7vw;
               width: 60vw;
               left: 20vw;
               font-family: 'Kanit', cursive;
               user-select: none;
               text-shadow:
                    0.1vw 0.05vw 0.1vw #00b7ff,
                    0.1vw 0.10vw 0.1vw #00b7ff,
                    0.1vw 0.15vw 0.1vw #00b7ff,
                    0.1vw 0.20vw 0.1vw #00b7ff,
                    0.1vw 0.35vw 0.1vw #00b7ff,
                    0.1vw 0.40vw 0.1vw #00b7ff,
                    0.1vw 0.45vw 0.1vw #00b7ff,
                    0.1vw 0.50vw 0.1vw #00b7ff,
                    0.1vw 0.55vw 0.1vw #00b7ff,
                    0.1vw 0.60vw 0.1vw #00b7ff,

                    0.16vw 1.3vw 0.05vw rgba(0, 255, 136, 1),
                    0.16vw 1.3vw 0.10vw rgba(0, 255, 170, 0.5),
                    0.16vw 1.3vw 0.35vw rgba(255, 0, 0, 0.5),
                    0.16vw 1.3vw 0.60vw rgba(63, 255, 5, 1)
          }

          h3 {
               margin: 0.5vw auto;
               color: rgb(255, 15, 15);
               font-size: 7vw;
               width: 40vw;
               margin-left: 30vw;
               font-family: 'Kanit', cursive;
               user-select: none;
               text-shadow:
                    0.1vw 0.05vw 0.1vw #00b7ff,
                    0.1vw 0.10vw 0.1vw #00b7ff,
                    0.1vw 0.15vw 0.1vw #00b7ff,
                    0.1vw 0.20vw 0.1vw #00b7ff,
                    0.1vw 0.35vw 0.1vw #00b7ff,
                    0.1vw 0.40vw 0.1vw #00b7ff,
                    0.1vw 0.45vw 0.1vw #00b7ff,
                    0.1vw 0.50vw 0.1vw #00b7ff,
                    0.1vw 0.55vw 0.1vw #00b7ff,
                    0.1vw 0.60vw 0.1vw #00b7ff,

                    0.16vw 1.3vw 0.05vw rgba(0, 255, 136, 1),
                    0.16vw 1.3vw 0.10vw rgba(0, 255, 170, 0.5),
                    0.16vw 1.3vw 0.35vw rgba(255, 0, 0, 0.5),
                    0.16vw 1.3vw 0.60vw rgba(63, 255, 5, 1)
          }

          h4 {
               height: 10vw;
               width: 30vw;
               font-size: 5vw;
               font-weight: bold;
               font-family: 'Sriracha', cursive;
               color: rgb(14, 219, 255);
               text-shadow: 0.1vw 0.2vw rgb(255, 0, 0);
               text-align: center;
               left: 33vw;
               margin: 20vw auto;
               user-select: none;
               border: 0.2vw red outset;
               transition: transform 0.1s;
               border-radius: 3vw;
               background: black;
               position: absolute;
               cursor: pointer;
          }
          
          h5 {
             position: absolute;
               margin: 35vw auto;
               color: rgb(255, 15, 15);
               font-size: 3vw;
               width: 87vw;
               left: 5vw;
               font-family: 'Kanit', cursive;
               user-select: none;
               text-shadow:
                    0.1vw 0.03vw 0.1vw #00b7ff,
                    0.1vw 0.06vw 0.1vw #00b7ff,
                    0.1vw 0.12vw 0.1vw #00b7ff,
                    0.1vw 0.18vw 0.1vw #00b7ff,
                    0.1vw 0.25vw 0.1vw #00b7ff,
                    0.1vw 0.32vw 0.1vw #00b7ff,

                    0.1vw 0.5vw 0.05vw rgba(0, 255, 136, 1),
                    0.1vw 0.5vw 0.10vw rgba(0, 255, 170, 0.5);
                    text-align: center;
                    border: 3px red outset;
          
          }
          
          h6 {
             position: absolute;
               color: rgb(255, 15, 15);
               font-size: 3vw;
               width: 87vw;
               left: 5vw;
               font-family: 'Kanit', cursive;
               user-select: none;
               text-shadow:
                    0.1vw 0.03vw 0.1vw #00b7ff,
                    0.1vw 0.06vw 0.1vw #00b7ff,
                    0.1vw 0.12vw 0.1vw #00b7ff,
                    0.1vw 0.18vw 0.1vw #00b7ff,
                    0.1vw 0.25vw 0.1vw #00b7ff,
                    0.1vw 0.32vw 0.1vw #00b7ff,

                    0.1vw 0.5vw 0.05vw rgba(0, 255, 136, 1),
                    0.1vw 0.5vw 0.10vw rgba(0, 255, 170, 0.5);
                    text-align: center;
                    border: 3px red outset;
          }
     </style>

     <title>Smooth Surviver!</title>

     <script>

          let canvas = document.getElementById("MyCanvas");
          let c = canvas.getContext("2d")

          var x = canvas.width / 2;
          var y = canvas.height / 2;

          let dx = 0;
          let dy = 0;
          let SpriteSize = 55;

          let grounded = false;

          let Blockwidth = canvas.width / 5;
          let Blockheight = canvas.height / 5;
          let BlockX = canvas.width / 2.4;
          let BlockY = canvas.height / 2.4;

          canvas = document.getElementById("MyCanvas");
          canvas.style.display = "none";
          store = document.getElementById("store");
          store.style.display = "none";
          h3.style.display = "none"
          h4.style.display = "none"
          h5.style.display = "block"
          h6.style.display = "none"

          let BlockDwidth = canvas.width / 6;
          let BlockDheight = canvas.height / 6;
          let BlockDX = canvas.width / 6;
          let BlockDY = canvas.height / 6;
          var img = new Image();
          img.src = "Jsprite1.png";

          var img2 = new Image();
          img2.src = "ball1.png";

          let ballx = 100;
          let bally = 100;

          let ballRadius = 40;

          let vx = 3;
          let vy = -3;

          let score = 0;
        
          function Draw() {
               c.clearRect(0, 0, canvas.width, canvas.height);
               c.beginPath()
               c.drawImage(img, x, y, SpriteSize, SpriteSize);
               requestAnimationFrame(Draw)
               c.strokeStyle = "blue";
               c.lineWidth = 3;
               c.stroke();
               c.closePath()
               x += dx;
               y += dy;
               collison()

          }
          Draw()



          function drawBall() {
               c.beginPath();
               c.drawImage(img2, ballx, bally, ballRadius, ballRadius);
               c.fillStyle = "#0095DD";
               c.fill()
               Faces()
               c.closePath();
          }

          setInterval(function () {
               draw2()
          }, 0);

          setInterval(function () {
               ballx = Math.floor = (Math.random() * 1100 + 100);
               bally = Math.floor = (Math.random() * 700 + 50);
          }, 10000);
         
         function BallSpeed() {
          setInterval(function () {
                        vx = Math.floor = (Math.random() * 13 + 4);
                    vy = Math.floor = (Math.random() * 10 + 2);                   
          }, 4000);
          
         }
           
          function draw2() {
               c.clearRect(0, 0, canvas.width, canvas.height);
               drawBall();

               if (ballx + vx > canvas.width - ballRadius - 31.6 || ballx + vx < ballRadius - 31.6) {
                    vx = -vx;
               }
               if (bally + vy > canvas.height - ballRadius - 31.6 || bally + vy < ballRadius - 31.6) {
                    vy = -vy;
               }

               ballx += vx;
               bally += vy;
               requestAnimationFrame(drawBall)

               if ((ballx > x - ballRadius && ballx < x + ballRadius) && (bally > y - ballRadius && bally < y + ballRadius)) {
                    SpriteSize = 0;
               }

               if (SpriteSize == 0) {
                    canvas.style.display = "none";
                    store.style.display = "none";
                    h1.style.display = "none";
                    h2.style.display = "none";
                    h3.style.display = "block";
                    h4.style.display = "block";
               }


          }

          if (canvas.style.display = "none") {
               vx = 0;
               vy = 0;
          }

          function Faces() {
               if (vx >= 3) {
                    img2.src = "ball1.png";

                    if (vy >= 3) {
                         img2.src = "ball1.png";
                    }
               }


               if (vx >= 5) {
                    img2.src = "ball2.png";

                    if (vy >= -5) {
                         img2.src = "ball2.png";
                    }

               }

               if (vx >= 10) {
                    img2.src = "ball3.png";

                    if (vy >= -10) {
                         img2.src = "ball3.png";
                    }
               }

          }

          function StartGame() {
               canvas = document.getElementById("MyCanvas");
               h1 = document.getElementById("h1")
               store = document.getElementById("store");
               h2 = document.getElementById("h2")
               canvas.style.display = "block";
               store.style.display = "block";
               h1.style.display = "none";
               h2.style.display = "none";
               h5.style.display = "none";
          }

          function collison() {
               if (y >= canvas.height - SpriteSize - 36) {
                    y = canvas.height - SpriteSize - 31.6;
                    grounded = true;
               }

               if (y < SpriteSize - SpriteSize) {
                    y = 0;
               }

               if (x >= canvas.width - SpriteSize) {
                    grounded;
                    x = canvas.width - SpriteSize;
               }

               if (x < SpriteSize - SpriteSize) {
                    x = 0;
               }

          }


          function collison3() {
               if ((x > BlockDX - SpriteSize && x < BlockDX + BlockDwidth - SpriteSize + 30) && (y > BlockDY - SpriteSize && y < BlockDY + BlockDheight - SpriteSize + 30)) {
                    SpriteSize = 0;
               }
          }

          addEventListener("keydown", function (move) {
               if (move.code == 'Space') {
                    if (grounded) {
                         dy = -10, grounded = false;
                         img.src = "Jsprite4.png";

                         setTimeout(() => {
                              img.src = "Jsprite1.png"
                         }, 1050);

                    }


               }

               if (move.code == 'KeyA') {
                    dx = -5;
                    img.src = "Jsprite3.png"
               }

               if (move.code == 'KeyD') {
                    dx = 5;
                    img.src = "Jsprite2.png"
               }

               console.log(move.code)

               if (move.code == 'KeyR') {
                    location.reload()
               }

               function Ground() {
                    img.src = "Jsprite1.png"
               }

          })

          addEventListener("keyup", function (move) {
               if (move.code == 'KeyA') {
                    dx = 0;
                    img.src = "Jsprite1.png"
               }

               if (move.code == 'KeyD') {
                    dx = 0;
                    img.src = "Jsprite1.png"
               }

          })

          setInterval(function Gravity() {
               if (grounded == false) {
                    dy += 0.17;
               }
          })

          function Fast() {
               addEventListener("keydown", function (move) {
                    if (move.code == 'Space') {
                         if (grounded) {
                              dy += -3, grounded = false;
                         }
                    }

                    if (move.code == 'KeyA') {
                         dx += -3;
                    }

                    if (move.code == 'KeyD') {
                         dx += 3;
                    }

               })

               addEventListener("keyup", function (move) {
                    if (move.code == 'KeyA') {
                         dx += 0;
                    }

                    if (move.code == 'KeyD') {
                         dx += 0;
                    }

               })
          }

          function Slow() {
               addEventListener("keydown", function (move) {
                    if (move.code == 'Space') {
                         if (grounded) {
                              dy = dy / 2, grounded = false;
                         }
                    }

                    if (move.code == 'KeyA') {
                         dx = dx / 2;
                    }

                    if (move.code == 'KeyD') {
                         dx = dx / 2;
                    }

               })

               addEventListener("keyup", function (move) {
                    if (move.code == 'KeyA') {
                         dx = 0;
                    }

                    if (move.code == 'KeyD') {
                         dx = 0;
                    }

               })
          }

          function Ball() {
               SpriteSize += 3;
          }

          function Ball2() {
               SpriteSize += -3;
          }

          function Wonky() {
               dx = Math.floor = (Math.random() * 50 + 5);
               dy = Math.floor = (Math.random() * 50 + 5);
               setInterval(function () {
                    x = Math.floor = (Math.random() * 1000 + 100);
                    y = Math.floor = (Math.random() * 1000 + 100);
               }, 300);
          }

          function GravPool() {
               setInterval(function GravPool() {
                    if (grounded == false) {
                         dy += 1 / 100;
                    }
               })
          }

          function GravNo() {
               setInterval(function GravNo() {
                    if (grounded == false) {
                         dy += -1 / 100;
                    }
               })
          }

          function ScoreAdding(amount) {
               score = score + amount;
               document.getElementById("score").innerHTML = score;
          }
          function Ending() {
         if(score >= 100) {
           h6.style.display = "block";
           setInterval(function () {
           vx = 0;
           vy = 0;
           }, 10);
                        canvas.style.display = "none";
               store.style.display = "none";
               h1.style.display = "none";
               h2.style.display = "none";
               h5.style.display = "none";
         }
      }
     </script>